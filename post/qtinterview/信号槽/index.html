<!DOCTYPE html>
<html class="no-js" lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="theme-color" content="#1b1b1b">
	<title>Qt 信号和槽 | Beside C&#43;&#43;</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	<link rel="stylesheet" href="/css/bundle.css">
	<link rel="icon" href="/icons/16.png" sizes="16x16" type="image/png">
	<link rel="icon" href="/icons/32.png" sizes="32x32" type="image/png">
		
</head>
<body class="body kind-page">
	<header class="header">
	<a class="logo" href="/">Beside C&#43;&#43;</a>
	
</header>
	<div class="primary">
	
	<main class="main">
		
		<div class="single block">
			<article class="entry">
				<h1 class="entry__title">Qt 信号和槽</h1>
				<div class="entry__content"><h1 id="qt-信号和槽">Qt 信号和槽</h1>
<p>信号和槽是Qt中对象进行通讯的机制。该机制是观察者模式的一种实现，类似于回调函数，当一个对象的状态发生改变时，会触发本对象或者其他对象的一些行为。</p>
<p>与回调函数对比：</p>
<h2 id="什么是信号和槽">什么是信号和槽？</h2>
<p>有一个简短的答案和一个详细的答案。我们会叙述这个详细的答案，但是对于不想等太多时间的读者，请看一下简短的答案</p>
<h3 id="简单答案它们是啥">简单答案：它们是啥</h3>
<p>信号和槽是观察者模式的一种通用实现。信号是可观察的事件，或者至少是发生事件的通知。槽是一个潜在的观察者，典型的槽是一个被调用的函数。通过<code>connect</code>函数建立这种<strong>可观察对象-观察者</strong>的联系。当一些事件发生或者对象的状态改变，就会触发信号。释放信号的对象要调用所有注册到这个信号上的函数（槽）。</p>
<p>信号和槽是多对多的关系。一个信号可以连接到任意数量的槽上。多个信号可以连接到同一个槽上。</p>
<p>信号可以携带额外的信息，例如，当窗口关闭的时候会发出一个信号，这个信号会携带对窗口的引用信息。把信号和槽看到是函数原型是很有用的。一个信号可连接到任何可以兼容函数原型的槽上。</p>
<p>对于信号和槽，有多种不同的实现，它们在架构的风格和接口及基础设计选择上是不同的。</p>
<h3 id="详细答案它们是怎么来的">详细答案：它们是怎么来的</h3>
<p>上面的答案，给出了一些关于信号和槽的说明，但是我想更想说明信号和槽是如何来的，并且如何使用它们。</p>
<p>编程中一个基本的概念就是通讯，一个对象通知另一个对象去做某事，从简入繁，来讲一下</p>
<h4 id="一个简单的引入例子重新载入网页的按钮">一个简单的引入例子：重新载入网页的按钮</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c++" data-lang="c++"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Button</span>
{
<span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
	<span style="color:#66d9ef">void</span> clicked();
	<span style="color:#75715e">// 按钮会被按下
</span><span style="color:#75715e"></span>};

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Page</span>
{
<span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
	<span style="color:#66d9ef">void</span> reload();
	<span style="color:#75715e">// ...which I might want to do when a Button is clicked
</span><span style="color:#75715e"></span>};
</code></pre></div><p>换句话说，Page对象知道如何重新载入，Button对象有时会被点击。我们我们有一个获取当前页面的函数<code>currentPage()</code>，可能点击这个按钮就会要求当前页面重新载入</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C++" data-lang="C++"><span style="color:#66d9ef">void</span> Button<span style="color:#f92672">::</span>clicked()
{
	currentPage()<span style="color:#f92672">-&gt;</span>reload();
	<span style="color:#75715e">// Buttons know exactly what to do when clicked
</span><span style="color:#75715e"></span>}
</code></pre></div></div>
				
			</article>
		</div>
	</main>
	
	



	

	</div>
	<footer class="footer">
	<div class="footer__copyright">© 2021 Beside C&#43;&#43;. <span class="footer__copyright-credits">Powered by <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/vimux/binario" rel="nofollow noopener" target="_blank">Binario</a> theme.</span></div>
</footer>
</body>
</html>